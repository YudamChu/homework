<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
   function solution(friends, gifts) {
    
    //gifts 배열의 요소를 배열로 변형  => [준 사람, 받은 사람]
    const giveArr = gifts.map(x => x.split(" "));
    
    // map 초기화: [준 배열, 받은 배열, 다음달 받을 갯수]
    const map = {};
    for(let i=0; i<friends.length; i++){
        map[friends[i]] = [[], [], 0];
    }
    
    
    //준사람 받은 사람 배열에 담기
    giveArr.forEach(([from, to]) => {
    
        map[from][0].push(to);
        map[to][1].push(from);
    });
    
   
//서로 주고 받은 기록 비교 A가 B에게 준 기록 > B가 A에게 준 기록 => B가 A에게 주기 
//서로 주고 받은게 없거나 주고받은게 같다면 => 선물지수 (준기록 - 받은 기록)이 작은 사람이 큰사람에게 주기
//                                => 선물지수도 같다면 선물을 주고받지 않음
    
   //비교
    for(let i = 0; i<friends.length; i++){
        
        for(let j=i+1; j<friends.length; j++){
            
            const A = friends[i];
            const B = friends[j];
            
            //주고받은 선물 갯수 구하기
            let giveNumA = map[A][0].filter(x => x === B).length;
            let giveNumB = map[B][0].filter(x => x === A).length;
            
            //주고받은 선물 갯수 비교
            if(giveNumA > giveNumB){
              map[A][2] +=1;
            }else if(giveNumA < giveNumB){
              map[B][2] +=1;
            }else{
            
              //주고받은 선물 갯수가 없거나 같을때 
              //선물지수 구하기
              let indexA = map[A][0].length - map[A][1].length;
              let indexB = map[B][0].length - map[B][1].length;

              //선물지수 비교
              if(indexA > indexB){
                  map[A][2] +=1;
              }else if(indexA <indexB){
                  map[B][2] +=1;
              }//선물지수가 같다면 아무것도 없음
               
            }
        }   
    }

    //결과
    const result = friends.map(x =>map[x][2]); //각 이름의 다음달 받을 갯수 만 배열로 가져오기
    return Math.max(...result); //그 중 최댓값 구하기

    } 
</script>
</html>